<div class="search-page">

  <!-- Barra superior propia de esta página -->
  <div class="search-topbar">

    <!-- Logo -->
    <div class="search-logo">
      <a [routerLink]="['/']">
        <img src="assets/logo-cine.png" alt="logo-cine" class="logo-img">
      </a>
    </div>

    <!-- Buscador -->
    <div class="search-center">
      <div class="search-box">
        <input
          [formControl]="busqueda"
          type="text"
          id="search"
          placeholder="Buscar película"
          class="search-input" />

        <button
          class="search-btn"
          (click)="buscar()"
          [disabled]="busqueda.invalid">
          Buscar
        </button>
      </div>

      @if (busqueda.hasError('required') && busqueda.touched) {
        <span class="search-error">
          No se ingresó dato de la película.
        </span>
      }
    </div>

    <!-- Perfil -->
    <div class="search-profile">
      <a [routerLink]="['/profile-detail']" class="profile-link">
        <span class="profile-text">Perfil</span>
        <img src="assets/perfil.png" alt="Perfil del usuario" class="profile-avatar">
      </a>
    </div>

  </div>

  <!-- Título de resultados -->
  <h2 class="results-title">
    Resultados de búsqueda
    @if (busqueda.value) {
      <span class="results-query">"{{ busqueda.value }}"</span>
    }
  </h2>

  <!-- Grid de películas -->
  <div class="results-grid">

    @for (item of resultados; track item.id) {
      <div class="result-card">
        <a [routerLink]="['/movie-review', item.id]">
          <img
            [src]="'https://image.tmdb.org/t/p/w500' + item.poster_path"
            alt="{{ item.title }}"
            class="result-poster">
        </a>

        <a [routerLink]="['/movie-review', item.id]" class="result-title">
          {{ item.title }}
        </a>

        <p class="result-score">
          Puntuación: {{ item.vote_average }}
        </p>
      </div>
    }

  </div>
</div>

<app-footer></app-footer>
