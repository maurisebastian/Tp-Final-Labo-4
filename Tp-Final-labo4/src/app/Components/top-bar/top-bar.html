<div class="topbar-container">

  <!-- IZQUIERDA: LOGO -->
  <div class="topbar-left">
    <a [routerLink]="['/']" class="logo-link">
      <img src="assets/logo-cine.png" alt="MovieHub" class="logo-img" />
      <span class="app-title">MovieHub</span>
    </a>
  </div>

  <!-- CENTRO: BUSCADOR -->
  <div class="topbar-center">
    <div class="search-wrapper">
      <input type="text" class="search-input" placeholder="Buscar pel√≠cula" [formControl]="busqueda"
        (keyup.enter)="buscar()" />

      <button class="search-btn" (click)="buscar()" [disabled]="busqueda.invalid">
        Buscar
      </button>
    </div>
    @if (busqueda.hasError('required') && busqueda.touched) {
    <span class="search-error">
      No se ingres√≥ dato de la pel√≠cula.
    </span>
    }
  </div>

 <!-- DERECHA: PERFIL + ADMIN -->
<div class="topbar-right">

  @if (activeUserSignal()) {

    <!-- SOLO mostrar ‚ÄúBuscar amigos‚Ä¶‚Äù si NO estoy ya en /profiles -->
    @if (!router.url.includes('profiles')) {

      <a [routerLink]="['/profiles']" class="friend-search-pill">
        <span class="friend-search-placeholder">üîç Buscar amigos...</span>
      </a>
    }

    <!-- PERFIL PROPIO -->
    <a [routerLink]="['/profile-detail']" class="profile-link">
      <span class="profile-text">
        Perfil ({{ activeUserSignal()?.username }})
      </span>
      <img src="assets/perfil.png" alt="Perfil del usuario" class="profile-avatar" />
    </a>
  }

</div>



</div>