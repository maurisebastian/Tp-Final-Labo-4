<div class="movie-carousel">

  <!-- ‚≠ê T√çTULO DIN√ÅMICO -->
  @if (movies.length > 0) {
    <h2 class="section-title">Recomendadas para vos</h2>
  } @else {
    <h2 class="section-title">Las m√°s puntuadas</h2>
  }

  <!-- ‚ùó MENSAJE SI NO HAY DATOS -->
  @if (items.length === 0) {
    <p class="empty-msg">No hay pel√≠culas para mostrar.</p>
  }

  <!-- ‚≠ê CARRUSEL -->
  <div class="movie-list-container"
       (mouseenter)="pauseAutoSlide()"
       (mouseleave)="resumeAutoSlide()">

    <!-- FLECHA IZQUIERDA -->
    <button class="carousel-arrow left-arrow"
            (click)="prevSlide()"
            [disabled]="currentSlideIndex === 0">
      ‚Äπ
    </button>

    <!-- LISTA -->
    <div class="movie-list">

      @for (movie of items; track movie.id; let i = $index) {

        <div class="movie-item">

          <!-- üèÖ Ranking SOLO si es Top Rated -->
          @if (movies.length === 0 && i < 3) {
            <div class="ranking">#{{ i + 1 }}</div>
          }

          <a [routerLink]="['/movie', movie.id]" class="movie-title-link">
            <img 
              [src]="'https://image.tmdb.org/t/p/w500' + movie.poster_path"
              [alt]="movie.title"
            />
            <p>{{ movie.title }}</p>
          </a>

        </div>

      }

    </div>

    <!-- FLECHA DERECHA -->
    <button class="carousel-arrow right-arrow"
            (click)="nextSlide()"
            [disabled]="isNextButtonDisabled()">
      ‚Ä∫
    </button>

  </div>

</div>
