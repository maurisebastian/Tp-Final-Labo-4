<app-top-bar></app-top-bar>

@if (topRatedMovies.length > 0) {
  <div 
    class="movie-carousel" 
    (mouseenter)="pauseAutoSlide()" 
    (mouseleave)="resumeAutoSlide()"
  >

    <h2 class="section-title">Top Más Puntuadas</h2>

    <!-- FLECHA IZQUIERDA -->
    <button class="carousel-arrow left-arrow" (click)="prevSlide()">
      &#9664;
    </button>

    <div class="movie-list-container">
      <div class="movie-list">
        @for (movie of topRatedMovies; track movie.id; let i = $index) {
          
          <div class="movie-item">

            <div class="ranking">#{{ i + 1 }}</div>

            <a [routerLink]="['/movie-review', movie.id]">
              <img [src]="'https://image.tmdb.org/t/p/w500' + movie.poster_path">
            </a>

            <a class="movie-title-link" [routerLink]="['/movie-review', movie.id]">
              <p>{{ movie.title }}</p>
            </a>

            <p class="text-muted">Puntuación: {{ movie.vote_average }}</p>
          </div>

        }
      </div>
    </div>

    <!-- FLECHA DERECHA -->
    <button 
      class="carousel-arrow right-arrow" 
      (click)="nextSlide()" 
      [disabled]="isNextButtonDisabled()"
    >
      &#9654;
    </button>

  </div>
}

<app-footer></app-footer>
